
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <!--
This HTML was auto-generated from MATLAB code.
To make changes, update the MATLAB code and republish this document.
      --><title>QCmulti</title><meta name="generator" content="MATLAB 8.5"><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2016-07-15"><meta name="DC.source" content="QCmulti.m"><style type="text/css">
html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,font,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none}:focus{outine:0}ins{text-decoration:none}del{text-decoration:line-through}table{border-collapse:collapse;border-spacing:0}

html { min-height:100%; margin-bottom:1px; }
html body { height:100%; margin:0px; font-family:Arial, Helvetica, sans-serif; font-size:10px; color:#000; line-height:140%; background:#fff none; overflow-y:scroll; }
html body td { vertical-align:top; text-align:left; }

h1 { padding:0px; margin:0px 0px 25px; font-family:Arial, Helvetica, sans-serif; font-size:1.5em; color:#d55000; line-height:100%; font-weight:normal; }
h2 { padding:0px; margin:0px 0px 8px; font-family:Arial, Helvetica, sans-serif; font-size:1.2em; color:#000; font-weight:bold; line-height:140%; border-bottom:1px solid #d6d4d4; display:block; }
h3 { padding:0px; margin:0px 0px 5px; font-family:Arial, Helvetica, sans-serif; font-size:1.1em; color:#000; font-weight:bold; line-height:140%; }

a { color:#005fce; text-decoration:none; }
a:hover { color:#005fce; text-decoration:underline; }
a:visited { color:#004aa0; text-decoration:none; }

p { padding:0px; margin:0px 0px 20px; }
img { padding:0px; margin:0px 0px 20px; border:none; }
p img, pre img, tt img, li img, h1 img, h2 img { margin-bottom:0px; } 

ul { padding:0px; margin:0px 0px 20px 23px; list-style:square; }
ul li { padding:0px; margin:0px 0px 7px 0px; }
ul li ul { padding:5px 0px 0px; margin:0px 0px 7px 23px; }
ul li ol li { list-style:decimal; }
ol { padding:0px; margin:0px 0px 20px 0px; list-style:decimal; }
ol li { padding:0px; margin:0px 0px 7px 23px; list-style-type:decimal; }
ol li ol { padding:5px 0px 0px; margin:0px 0px 7px 0px; }
ol li ol li { list-style-type:lower-alpha; }
ol li ul { padding-top:7px; }
ol li ul li { list-style:square; }

.content { font-size:1.2em; line-height:140%; padding: 20px; }

pre, code { font-size:12px; }
tt { font-size: 1.2em; }
pre { margin:0px 0px 20px; }
pre.codeinput { padding:10px; border:1px solid #d3d3d3; background:#f7f7f7; }
pre.codeoutput { padding:10px 11px; margin:0px 0px 20px; color:#4c4c4c; }
pre.error { color:red; }

@media print { pre.codeinput, pre.codeoutput { word-wrap:break-word; width:100%; } }

span.keyword { color:#0000FF }
span.comment { color:#228B22 }
span.string { color:#A020F0 }
span.untermstring { color:#B20000 }
span.syscmd { color:#B28C00 }

.footer { width:auto; padding:10px 0px; margin:25px 0px 0px; border-top:1px dotted #878787; font-size:0.8em; line-height:140%; font-style:italic; color:#878787; text-align:left; float:none; }
.footer p { margin:0px; }
.footer a { color:#878787; }
.footer a:hover { color:#878787; text-decoration:underline; }
.footer a:visited { color:#878787; }

table th { padding:7px 5px; text-align:left; vertical-align:middle; border: 1px solid #d6d4d4; font-weight:bold; }
table td { padding:7px 5px; text-align:left; vertical-align:top; border:1px solid #d6d4d4; }





  </style></head><body><div class="content"><h2>Contents</h2><div><ul><li><a href="#1"><b>Basic Catalog Statistics</b></a></li><li><a href="#2"><i>Catalog 1</i></a></li><li><a href="#3"><i>Catalog 2</i></a></li><li><a href="#4"><b>Comparison Criteria</b></a></li><li><a href="#5"><b>Map of Events</b></a></li><li><a href="#6"><b>Summary of Matching Events</b></a></li><li><a href="#7"><i>Authoritative Events Check</i></a></li><li><a href="#8"><b>Time Series Summary of Catalog Events</b></a></li><li><a href="#9"><b>Matching events</b></a></li><li><a href="#10"><b>Missing Events</b></a></li><li><a href="#11"><i>No Similar Origin Time</i></a></li><li><a href="#12"><i>Location Disagreement</i></a></li><li><a href="#13"><b>Potential Problem Events</b></a></li><li><a href="#14"><i>Depth Differences</i></a></li><li><a href="#15"><i>Magnitude Differences</i></a></li><li><a href="#16"><i>Depth and Magnitude Differences</i></a></li></ul></div><h2><b>Basic Catalog Statistics</b><a name="1"></a></h2><h2><i>Catalog 1</i><a name="2"></a></h2><pre class="codeoutput">Catalog Name:	ComCat 2015 - 2016
File Name:	/Users/mrperry/LIGO/ForLIGO.csv

First Date in Catalog:	2015-01-01 05:01:10.640
Last Date in Catalog:	2016-07-15 10:54:07.110

Total Number of Events:	10535
	earthquake:	10534
	nuclear explosion:	1

Minimum Latitude:	-71.7339
Maximum Latitude:	86.1076
Minimum Longitude:	-179.9811
Maximum Longitude:	179.9993

Minimum Depth:	0
Maximum Depth:	683.4

Minimum Magnitude:	4.5
Maximum Magnitude:	8.3

Number of 0 magnitude events:	0
Number of NaN magnitude events:	0
</pre><h2><i>Catalog 2</i><a name="3"></a></h2><pre class="codeoutput">Catalog Name:	Event from LLO Analysis
File Name:	/Users/mrperry/LIGO/LHO_LibComCat.csv

First Date in Catalog:	2015-09-12 20:32:27.000
Last Date in Catalog:	2016-01-19 22:04:07.300

Total Number of Events:	330
	earthquake:	330

Minimum Latitude:	-62.2
Maximum Latitude:	55
Minimum Longitude:	-178.7
Maximum Longitude:	179.9

Minimum Depth:	0
Maximum Depth:	608.4

Minimum Magnitude:	5
Maximum Magnitude:	8.3

Number of 0 magnitude events:	0
Number of NaN magnitude events:	0
</pre><h2><b>Comparison Criteria</b><a name="4"></a></h2><pre class="codeoutput"> 
------- Filters ------
Overlapping time period: 12-Sep-2015 20:32:11 to 19-Jan-2016 22:04:23
Region: all
Lower Mag. Limit: -10
 
---Matching Criteria--- 
Time window: 16 s
Distance window: 100 km
 
--- Problem Event Parameter Tolerance ---
Magnitude tolerance: 9999
Depth tolerance: 9999 km
 
Events from each catalog are removed from the comparison if they don't match the filtering criteria.
 
Events are determined to be matching if they are within both origin time and location matching criteria.
There are two categories of missing events. The first is when events with similar origin 
times cannot be found in either catalog.
The second occurs if similar origin times are found but the locations are too far apart.
 
Problem events match in both origin time and location, but could have descrepencies in
depth, magnitude, or both.
 
</pre><h2><b>Map of Events</b><a name="5"></a></h2><p>Map of all events in the overlapping time period that match the comparison criteria</p><img vspace="5" hspace="5" src="QCmulti_01.png" alt=""> <h2><b>Summary of Matching Events</b><a name="6"></a></h2><pre class="codeoutput">-- Number of events after filtering --
2728 ComCat 2015 - 2016 events in the target region.
330 Event from LLO Analysis events in the target region.
 
      ---------------- MATCHING EVENTS ----------------    
331 ComCat 2015 - 2016 and Event from LLO Analysis meet matching criteria.
 
   -------------------- MISSING EVENTS --------------------   
 
                  ---Total Missing Events---
There are 2397 event(s) in ComCat 2015 - 2016
missing from Event from LLO Analysis
There are 3 event(s) in Event from LLO Analysis
missing from ComCat 2015 - 2016
 
---- No Similar Origin Times ----
2395 event(s) in ComCat 2015 - 2016 have origin times not in Event from LLO Analysis
1 event(s) in Event from LLO Analysis have origin times not in ComCat 2015 - 2016
 
---- Match in time but NOT location ----
2 events matched in time but location differences were greater than 100 km apart
 
-------------------- POSSIBLE PROBLEM EVENTS ---------------    
 
</pre><h2><i>Authoritative Events Check</i><a name="7"></a></h2><pre class="codeoutput">Authoritative Event check not selected
</pre><h2><b>Time Series Summary of Catalog Events</b><a name="8"></a></h2><p>This plot shows the data availabilty of the catalogs through time. Those time series with the label corresponding to the catalog name show the data available in that catalog.  Between those time ser94ies and the matching events are events in the respective catalog missing from the other catalog.  For example, if an X appears along the time line under the time series for the first catalog, that event is IN the first catalog but missing from the second catalog.  The middle time series shows the matching events.</p><img vspace="5" hspace="5" src="QCmulti_02.png" alt=""> <h2><b>Matching events</b><a name="9"></a></h2><p>The following <a href="./MatchingEvents.html">events</a> were determined to be 'matching' based on the thresholds defined in initMkQCmulti.dat.</p><pre class="codeoutput">Exact matches ignored for rose histogram plot
</pre><img vspace="5" hspace="5" src="QCmulti_03.png" alt=""> <img vspace="5" hspace="5" src="QCmulti_04.png" alt=""> <img vspace="5" hspace="5" src="QCmulti_05.png" alt=""> <img vspace="5" hspace="5" src="QCmulti_06.png" alt=""> <img vspace="5" hspace="5" src="QCmulti_07.png" alt=""> <img vspace="5" hspace="5" src="QCmulti_08.png" alt=""> <img vspace="5" hspace="5" src="QCmulti_09.png" alt=""> <img vspace="5" hspace="5" src="QCmulti_10.png" alt=""> <img vspace="5" hspace="5" src="QCmulti_11.png" alt=""> <img vspace="5" hspace="5" src="QCmulti_12.png" alt=""> <img vspace="5" hspace="5" src="QCmulti_13.png" alt=""> <img vspace="5" hspace="5" src="QCmulti_14.png" alt=""> <img vspace="5" hspace="5" src="QCmulti_15.png" alt=""> <h2><b>Missing Events</b><a name="10"></a></h2><p>For a complete list of missing events, please click <a href="./MissingEvents.html">here</a></p><pre class="codeoutput">                  ---Total Missing Events---
 
There are 2397 event(s) in ComCat 2015 - 2016
missing from Event from LLO Analysis
 -- 
There are 3 event(s) in Event from LLO Analysis
missing from ComCat 2015 - 2016
 
</pre><h2><i>No Similar Origin Time</i><a name="11"></a></h2><pre class="codeoutput">---------------------------------------------------
2395 events in ComCat 2015 - 2016 have no corresponding event in Event from LLO Analysis within 16 seconds.
---------------------------------------------------
1 events in Event from LLO Analysis have no corresponding event in  ComCat 2015 - 2016 within 16 seconds.
---------------------------------------------------
</pre><img vspace="5" hspace="5" src="QCmulti_16.png" alt=""> <img vspace="5" hspace="5" src="QCmulti_17.png" alt=""> <img vspace="5" hspace="5" src="QCmulti_18.png" alt=""> <img vspace="5" hspace="5" src="QCmulti_19.png" alt=""> <img vspace="5" hspace="5" src="QCmulti_20.png" alt=""> <img vspace="5" hspace="5" src="QCmulti_21.png" alt=""> <h2><i>Location Disagreement</i><a name="12"></a></h2><pre class="codeoutput">The following events had matching times, but the distance residuals
are greater than 100 km.
 
</pre><img vspace="5" hspace="5" src="QCmulti_22.png" alt=""> <img vspace="5" hspace="5" src="QCmulti_23.png" alt=""> <h2><b>Potential Problem Events</b><a name="13"></a></h2><p>The following <a href="./ProblemEvents.html">events</a> were determined to be potential problem events due to descrepencies between the two catalogs.</p><h2><i>Depth Differences</i><a name="14"></a></h2><pre class="codeoutput">The following events had matching times, locations, and magnitudes but the depth
residuals are greater than 9999 km.
 
No events.
</pre><h2><i>Magnitude Differences</i><a name="15"></a></h2><pre class="codeoutput">The following events had matching times, locations, and depths,
but the magnitide residuals are greater than 9999.
 
No events.
</pre><h2><i>Depth and Magnitude Differences</i><a name="16"></a></h2><pre class="codeoutput">The following events matched but the depth and magnitude residuals
were greater than 9999 km and 9999, respectively.
 
No events
</pre><p class="footer"><br><a href="http://www.mathworks.com/products/matlab/">Published with MATLAB&reg; R2015a</a><br></p></div><!--
##### SOURCE BEGIN #####
%% *Basic Catalog Statistics*
% 
close all
[cat1,cat2] = loadmulticat(cat1,cat2);
%% _Catalog 1_
basiccatsum(cat1);
%% _Catalog 2_
basiccatsum(cat2);
%% *Comparison Criteria*
%Trim the catalog according to the input file
%
[cat1, cat2] = trimcats(cat1,cat2, reg, maglim, timewindow,distwindow,magdelmax,depdelmax);
%Will only remove events with the same event ID, not spatiotemporal "duplicates"
%Remove duplicate event ids
cat1 = removeduplicates(cat1);
cat2 = removeduplicates(cat2);
%% *Map of Events*
% Map of all events in the overlapping time period that match the comparison criteria
plottrimcats(cat1,cat2, reg);
%% *Summary of Matching Events*
%Parsing matching and missing events
if strcmpi(AT,'yes')
    [missing, dist, dep, mags, both, matching, auth_cat1, non_auth_cat1,...
        nonauth_matching,nonauth_missing] = compareevnts_auth(cat1,cat2,...
        timewindow,distwindow,magdelmax, depdelmax,reg);
%     [missing2, dist2, dep2, mags2, both2, matching2, auth_cat12, non_auth_cat12,...
%         nonauth_matching2,nonauth_missing2] = compareevnts_mp(cat1,cat2,...
%         timewindow,distwindow,magdelmax, depdelmax,reg);

else
    [missing, dist, dep, mags, both, matching] = ...
        compareevnts(cat1,cat2,timewindow,distwindow,magdelmax,depdelmax);
%     [missing_t, dist_t, dep_t, mags_t, both_t, matching_t] = ...
%         compareevnts_tst(cat1,cat2,timewindow,distwindow,magdelmax,depdelmax);
end
%% _Authoritative Events Check_
if strcmpi(AT,'yes')
    author_check(cat1, auth_cat1, non_auth_cat1,nonauth_matching,...
        nonauth_missing,matching,timewindow,distwindow)
else
    disp('Authoritative Event check not selected')
end
%% *Time Series Summary of Catalog Events*
% This plot shows the data availabilty of the catalogs through time.
% Those time series with the label corresponding to the catalog name show
% the data available in that catalog.  Between those time ser94ies and the
% matching events are events in the respective catalog missing from the
% other catalog.  For example, if an X appears along the time line under
% the time series for the first catalog, that event is IN the first catalog
% but missing from the second catalog.  The middle time series shows the
% matching events.
plottimeseries(cat1, cat2, matching, missing)
%% *Matching events*
% The following <./MatchingEvents.html events> were determined to be 'matching' based on the thresholds
% defined in initMkQCmulti.dat.
if ~isempty(matching.data)
    plotmatchingres(matching, cat1.name, cat2.name);
    plotmatchingevnts(cat1, cat2, matching,reg);
else
    disp('No matching events.')
end
%% *Missing Events*
% For a complete list of missing events, please click <./MissingEvents.html here>
% 
disp('                  REPLACE_WITH_DASH_DASH-Total Missing EventsREPLACE_WITH_DASH_DASH-')
disp(' ')
disp(['There are ',num2str(size(missing.events1,1)+size(dist.events1,1)),' event(s) in ',cat1.name])
disp(['missing from ',cat2.name])
disp(' REPLACE_WITH_DASH_DASH ')
disp(['There are ',num2str(size(missing.events2,1)+size(dist.events2,1)),' event(s) in ',cat2.name])
disp(['missing from ',cat1.name])
disp(' ')
%% _No Similar Origin Time_
if ~isempty(missing.events1) || ~isempty(missing.events2)
   plotmissingevnts(cat1, cat2, missing, reg,timewindow);
else
    disp('No missing events.')
end
%% _Location Disagreement_
disp('The following events had matching times, but the distance residuals')
disp(['are greater than ',num2str(distwindow),' km.'])
disp(' ')
if ~isempty(dist.events1) || ~isempty(dist.events2)
    plotdistevnts(cat1, cat2, dist, reg);
else
    disp('No events found with distance residuals greater than threshold.')
end
%% *Potential Problem Events*
% The following <./ProblemEvents.html events> were determined to be
% potential problem events due to descrepencies between the two catalogs.
%
%% _Depth Differences_
disp(['The following events had matching times, locations, and magnitudes but the depth'])
disp(['residuals are greater than ',num2str(depdelmax),' km.'])
disp(' ')
if ~isempty(dep.events1)
   plotdepevnts(cat1, cat2, dep, reg);
else
    disp('No events.')
end
%% _Magnitude Differences_
disp(['The following events had matching times, locations, and depths,'])
disp(['but the magnitide residuals are greater than ',num2str(magdelmax),'.'])
disp(' ')
if ~isempty(mags.events1)
   plotmagsevnts(cat1, cat2, mags, reg);
else
    disp('No events.')
end
%% _Depth and Magnitude Differences_
disp(['The following events matched but the depth and magnitude residuals'])
disp(['were greater than ',num2str(depdelmax),' km and ',num2str(magdelmax),', respectively.'])
disp(' ')
if ~isempty(both.events1)
    plotbothevnts(cat1,cat2, both, reg)
else
    disp('No events')
end

##### SOURCE END #####
--></body></html>